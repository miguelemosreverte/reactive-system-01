<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microbatch Collector (No HTTP) - Benchmark Results</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .card { background: white; border-radius: 8px; padding: 24px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #1a1a1a; margin-bottom: 8px; }
        .desc { color: #666; margin-bottom: 24px; }
        .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .metric { text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px; }
        .metric-value { font-size: 36px; font-weight: bold; color: #2563eb; }
        .metric-label { color: #666; margin-top: 4px; }
        .config { margin-top: 24px; }
        .config-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee; }
        .success { color: #22c55e; }
        .failed { color: #ef4444; }
        pre { background: #1e1e1e; color: #d4d4d4; padding: 16px; border-radius: 8px; overflow-x: auto; }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>Microbatch Collector (No HTTP)</h1>
            <p class="desc">Raw event collection throughput without HTTP overhead - shows theoretical maximum batching capacity</p>

            <div class="metrics">
                <div class="metric">
                    <div class="metric-value">311579</div>
                    <div class="metric-label">ops/s</div>
                </div>
                <div class="metric">
                    <div class="metric-value">1.6</div>
                    <div class="metric-label">p50 latency (ms)</div>
                </div>
                <div class="metric">
                    <div class="metric-value">3.2</div>
                    <div class="metric-label">p99 latency (ms)</div>
                </div>
                <div class="metric">
                    <div class="metric-value">185048487</div>
                    <div class="metric-label">total ops</div>
                </div>
            </div>

            <div class="metrics" style="margin-top: 20px;">
                <div class="metric">
                    <div class="metric-value success">4166746</div>
                    <div class="metric-label">successful</div>
                </div>
                <div class="metric">
                    <div class="metric-value failed">180881741</div>
                    <div class="metric-label">failed</div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>Configuration</h2>
            <div class="config">
                <div class="config-row"><span>Component</span><span>collector</span></div>
                <div class="config-row"><span>HTTP Server</span><span>NONE</span></div>
                <div class="config-row"><span>Microbatching</span><span>true</span></div>
                <div class="config-row"><span>Concurrency</span><span>200</span></div>
                <div class="config-row"><span>Duration</span><span>10s</span></div>
            </div>
        </div>

        <div class="card">
            <h2>Raw Results</h2>
            <pre>{
  "brochure": "microbatch-collector",
  "durationMs": 14021,
  "endTime": "2025-12-27T16:19:32.036464-03:00",
  "failedOps": 180881741,
  "name": "Microbatch Collector (No HTTP)",
  "p50Ms": 1.585,
  "p99Ms": 3.171,
  "rawResults": {
    "brochure": "microbatch-collector",
    "durationMs": 14434,
    "endTime": "2025-12-27T16:18:29.173314-03:00",
    "failedOps": 180881741,
    "name": "Microbatch Collector (No HTTP)",
    "p50Ms": 1.585,
    "p99Ms": 3.171,
    "rawResults": {
      "brochure": "microbatch-collector",
      "durationMs": 20328,
      "endTime": "2025-12-27T16:18:08.806332-03:00",
      "failedOps": 180881741,
      "name": "Microbatch Collector (No HTTP)",
      "p50Ms": 1.585,
      "p99Ms": 3.171,
      "rawResults": {
        "brochure": "microbatch-collector",
        "durationMs": 33802,
        "endTime": "2025-12-27T16:17:19.450487-03:00",
        "failedOps": 180881741,
        "name": "Microbatch Collector (No HTTP)",
        "p50Ms": 1.585,
        "p99Ms": 3.171,
        "rawResults": {
          "avgThroughput": 311579,
          "component": "microbatch-collector-kafka",
          "durationMs": 13373,
          "failedOperations": 180881741,
          "latency": {
            "avg": 1.585,
            "max": 3.488,
            "p50": 1.585,
            "p95": 1.902,
            "p99": 3.171
          },
          "name": "MicrobatchCollector + Kafka",
          "notes": "Submitted: 185,048,487 events; Sent to Kafka: 4,175,082 events; Dropped: 180,881,741 events (backpressure); Batches sent: 51,564; Avg batch size: 81.0; Avg Kafka batch time: 1.585 ms; Best config: batch=64, interval=1000Âµs",
          "status": "completed",
          "successfulOperations": 4166746,
          "totalOperations": 185048487
        },
        "startTime": "2025-12-27T16:16:45.646981-03:00",
        "successOps": 4166746,
        "throughput": 311579,
        "totalOps": 185048487
      },
      "startTime": "2025-12-27T16:17:48.47723-03:00",
      "successOps": 4166746,
      "throughput": 311579,
      "totalOps": 185048487
    },
    "startTime": "2025-12-27T16:18:14.734793-03:00",
    "successOps": 4166746,
    "throughput": 311579,
    "totalOps": 185048487
  },
  "startTime": "2025-12-27T16:19:18.013791-03:00",
  "successOps": 4166746,
  "throughput": 311579,
  "totalOps": 185048487
}</pre>
        </div>
    </div>
</body>
</html>